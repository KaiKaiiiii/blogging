"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[297],{9646:function(e,n,t){t.d(n,{Z:function(){return g}});var r,i,o,a,s=t(1413),c=t(4925),l=t(168),d=(t(2791),t(6031)),u=t(3504),h=t(184),p=d.ZP.div(r||(r=(0,l.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: 100rem;\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  animation: spinner infinite 1s;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.borderSize}),(function(e){return e.borderSize}),(function(e){return e.borderSize})),m=function(e){var n=e.size,t=void 0===n?"32px":n,r=e.borderSize,i=void 0===r?"4px":r;return(0,h.jsx)(p,{size:t,borderSize:i})},f=["type","children","kind"],x=d.ZP.button(i||(i=(0,l.Z)(["\n  margin: 0 auto;\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 18px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.25s linear;\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"])),(function(e){return e.height||"66px"}),(function(e){return"secondary"===e.kind&&(0,d.iv)(o||(o=(0,l.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(e){return e.theme.primary}))}),(function(e){return"primary"===e.kind&&(0,d.iv)(a||(a=(0,l.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary}))})),g=function(e){var n=e.type,t=void 0===n?"button":n,r=e.children,i=e.kind,o=void 0===i?"primary":i,a=(0,c.Z)(e,f),l=a.isLoading,d=a.to,p=l?(0,h.jsx)(m,{}):r;return""!==d&&"string"===typeof d?(0,h.jsx)(u.OL,{to:d,children:(0,h.jsx)(x,(0,s.Z)((0,s.Z)({type:t,kind:o},a),{},{children:p}))}):(0,h.jsx)(x,(0,s.Z)((0,s.Z)({type:t,kind:o},a),{},{children:p}))}},8119:function(e,n,t){var r=t(1413),i=t(4925),o=(t(2791),t(1134)),a=t(184),s=["checked","children","control","name"];n.Z=function(e){var n=e.checked,t=e.children,c=e.control,l=e.name,d=(0,i.Z)(e,s),u=(0,o.bc)({control:c,name:l,defaultValue:""}).field;return(0,a.jsxs)("label",{children:[(0,a.jsx)("input",(0,r.Z)((0,r.Z)({onChange:function(){},checked:n,type:"radio",className:"hidden-input"},u),d)),(0,a.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(n?"bg-green-400":"bg-gray-200")}),(0,a.jsx)("span",{children:t})]})]})}},1210:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(1413),i=t(4925),o=(t(2791),t(5066)),a=t(184),s=function(e){var n=e.children,t=(0,o.x)(),r=t.show,i=t.setShow;return(0,a.jsx)("div",{children:r&&(0,a.jsx)("div",{className:"absolute top-full left-0 w-full bg-white shadow-sm z-10",onClick:function(){i(!r)},children:n})})},c=function(e){e.children;var n=e.placeholder,t=(0,o.x)(),r=t.show,i=t.handleToggleDropdown;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 bg-[#E7ECF3] rounded cursor-pointer font-medium",onClick:i,children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:r?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})},l=["children","placeholder"],d=function(e){var n=e.children,t=e.placeholder,d=(0,i.Z)(e,l);return(0,a.jsx)(o.K,(0,r.Z)((0,r.Z)({},d),{},{children:(0,a.jsxs)("div",{className:"relative inline-block w-full",children:[(0,a.jsx)(c,{placeholder:t}),(0,a.jsx)(s,{children:n})]})}))}},5990:function(e,n,t){t(2791);var r=t(5066),i=t(184);n.Z=function(e){var n=(0,r.x)(),t=n.show,o=n.setShow,a=e.onClick;return(0,i.jsx)("div",{className:"px-5 py-4 cursor-pointer flex items-center justify-between hover:bg-gray-100 z-10",onClick:function(){a(),o(!t)},children:e.children})}},5066:function(e,n,t){t.d(n,{K:function(){return s},x:function(){return c}});var r=t(9439),i=t(2791),o=t(184),a=(0,i.createContext)();function s(e){var n=(0,i.useState)(!1),t=(0,r.Z)(n,2),s=t[0],c=t[1],l={show:s,setShow:c,handleToggleDropdown:function(){c(!s)}};return(0,o.jsx)(a.Provider,{value:l,children:e.children})}function c(){var e=(0,i.useContext)(a);if("undefined"===typeof e)throw new Error("useDropdown must be used within DropdownProvider");return e}},6356:function(e,n,t){var r,i=t(168),o=(t(2791),t(6031)),a=t(184),s=o.ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  align-items: flex-start;\n  margin-bottom: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"])));n.Z=function(e){var n=e.children;return(0,a.jsx)(s,{children:n})}},9248:function(e,n,t){var r,i=t(1413),o=t(4925),a=t(168),s=(t(2791),t(6031)),c=t(1134),l=t(184),d=["name","control","type","children"],u=s.ZP.div(r||(r=(0,a.Z)(["\n  position: relative;\n  width: 100%;\n  .input {\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: 8px;\n    border: 1px solid transparent;\n    transition: all 0.2s linear;\n  }\n  .input:focus {\n    border: 1px solid ",";\n    background-color: white;\n  }\n  .input::-webkit-input-placeholder {\n    color: ",";\n    opacity: 0.5;\n  }\n  .input::-moz-input-placeholder {\n    color: ",";\n    opacity: 0.5;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"20px 60px 20px 20px":"20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}),(function(e){return e.theme.grayDark}),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.name,t=e.control,r=e.type,a=void 0===r?"text":r,s=e.children,h=(0,o.Z)(e,d),p=(0,c.bc)({control:t,name:n,defaultValue:""}).field;return(0,l.jsxs)(u,{children:[(0,l.jsx)("input",(0,i.Z)((0,i.Z)((0,i.Z)({type:a,id:n},p),h),{},{className:"input"})),(0,l.jsx)("div",{className:"input-icon",children:s})]})}},3453:function(e,n,t){var r,i=t(1413),o=t(4925),a=t(168),s=(t(2791),t(6031)),c=t(184),l=["htmlFor","children"],d=s.ZP.label(r||(r=(0,a.Z)(["\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n"])),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.htmlFor,t=void 0===n?"":n,r=e.children,a=(0,o.Z)(e,l);return(0,c.jsx)(d,(0,i.Z)((0,i.Z)({htmlFor:t},a),{},{children:r}))}},4961:function(e,n,t){var r=t(1413),i=t(4925),o=(t(2791),t(184)),a=["on","onClick"];n.Z=function(e){var n=e.on,t=e.onClick,s=(0,i.Z)(e,a);return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:n,className:"hidden-input",onChange:function(){},onClick:t}),(0,o.jsx)("div",(0,r.Z)((0,r.Z)({className:"inline-block w-[70px] h-[42px] relative cursor-pointer rounded-full p-1 transition-all ".concat(n?"bg-green-500":"bg-gray-300")},s),{},{children:(0,o.jsx)("span",{className:"transition-all w-[34px] h-[34px] bg-white rounded-full inline-block ".concat(n?"translate-x-[28px]":"")})}))]})}},5735:function(e,n,t){var r=t(1413),i=t(4925),o=t(2791),a=t(184),s=["name","className","progress","image","handleDelete"];n.Z=function(e){var n=e.name,t=e.className,c=void 0===t?"":t,l=e.progress,d=void 0===l?0:l,u=e.image,h=void 0===u?"":u,p=e.handleDelete,m=void 0===p?function(){}:p,f=(0,i.Z)(e,s);return(0,a.jsxs)("label",{className:"cursor-pointer group  flex items-center justify-center bg-gray-100 border border-dashed w-full min-h-[200px] rounded-lg ".concat(c," relative overflow-hidden"),children:[(0,a.jsx)("input",(0,r.Z)({type:"file",name:n,className:"hidden-input",onChange:function(){}},f)),0!==d&&!h&&(0,a.jsx)("div",{className:"loading w-8 h-8 rounded-full animate-spin border-4 border-t-4 border-t-transparent border-green-500"}),h&&(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:m,className:"absolute w-10 h-10 rounded-full  bg-primary flex items-center justify-center text-white text-lg z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,a.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}),(0,a.jsx)("div",{className:"overlay absolute inset-0 group-hover:bg-gray-300 group-hover:opacity-40 transition-all"})]}),!h&&0===d&&(0,a.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,a.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,a.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),h&&(0,a.jsx)("img",{src:h,className:"w-full h-full object-cover",alt:""}),!h&&(0,a.jsx)("div",{className:"absolute w-10 h-1 bg-green-400 bottom-0 left-0 transition-all image-upload-progress z-10",style:{width:"".concat(Math.ceil(d),"%")}})]})}},8322:function(e,n,t){t(2791);var r=t(184);n.Z=function(e){var n=e.title,t=void 0===n?"":n,i=e.desc,o=void 0===i?"":i,a=e.children;return(0,r.jsxs)("div",{className:"mb-10 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h1",{className:"dashboard-heading",children:t}),(0,r.jsx)("p",{className:"dashboard-short-desc",children:o})]}),a]})}},297:function(e,n,t){t.r(n);var r=t(1413),i=t(5861),o=t(9439),a=t(7757),s=t.n(a),c=t(9062),l=t(4453),d=t(2791),u=t(1134),h=t(6871),p=t(577),m=t(9646),f=t(8119),x=t(1210),g=t(5990),v=t(6356),b=t(9248),j=t(3453),Z=t(4961),w=t(5735),y=t(9559),k=t(3585),N=t(8322),C=t(6770),S=t.n(C),z=(t(6009),t(8113)),E=t(4569),D=t.n(E),P=t(184);C.Quill.register("modules/imageUploader",z.Z);n.default=function(){var e=(0,h.UO)().postId,n=(0,d.useState)(""),t=(0,o.Z)(n,2),a=t[0],C=t[1],z=(0,d.useState)(""),E=(0,o.Z)(z,2),V=E[0],F=E[1],_=(0,d.useState)(0),L=(0,o.Z)(_,2),T=L[0],U=L[1],H=(0,d.useState)(""),I=(0,o.Z)(H,2),M=I[0],J=I[1],O=(0,d.useState)([]),A=(0,o.Z)(O,2),R=A[0],B=A[1],Q=(0,d.useState)(!1),q=(0,o.Z)(Q,2),G=q[0],K=q[1],W=(0,d.useMemo)((function(){return{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],["link","image"]],imageUploader:{upload:function(){var e=(0,i.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",n),e.next=4,D()({method:"POST",url:Y,data:t,headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r.data.data.url);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}}),[]),Y="https://api.imgbb.com/1/upload?key=7d3a06b4057a1b5b5383f5a2a71e28f7",X=(0,l.cF)(),$=(0,u.cI)({mode:"onChange",defaultValues:{title:"",slug:"",author:"",status:1,category:{},user:{},image_name:"",image_url:"",hot:!1,content:""}}),ee=$.handleSubmit,ne=$.control,te=$.watch,re=$.setValue,ie=$.getValues,oe=$.reset,ae=$.formState,se=ae.isSubmitting;ae.isValid;(0,d.useEffect)((function(){function n(){return(n=(0,i.Z)(s().mark((function n(){var t,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,c.JU)(y.db,"posts",e),n.next=3,(0,c.QT)(t);case 3:i=n.sent,console.log(i.data()),oe((0,r.Z)({},i.data())),K(i.data().hot),C(i.data().category.name),J(i.data().image_url),F(i.data().content);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,d.useEffect)((function(){function e(){return(e=(0,i.Z)(s().mark((function e(){var n,t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t=(0,c.hJ)(y.db,"categories"),i=(0,c.IO)(t,(0,c.ar)("status","==",1)),e.next=5,(0,c.PL)(i);case 5:e.sent.forEach((function(e){n.push((0,r.Z)({id:e.id},e.data()))})),B(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var ce=te("status"),le=function(){var n=(0,i.Z)(s().mark((function n(t){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=(0,r.Z)({},t)).content=V,n.prev=2,n.next=5,(0,c.r7)((0,c.JU)(y.db,"posts",e),(0,r.Z)({},i));case 5:console.log(i),p.Am.success("Successfully update post",{pauseOnHover:!0}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}();return(0,P.jsxs)("div",{children:[(0,P.jsx)(N.Z,{title:"Update user",desc:"Update for user Id : ".concat(e)}),(0,P.jsxs)("form",{onSubmit:ee(le),children:[(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"title",children:"Title"}),(0,P.jsx)(b.Z,{type:"text",control:ne,placeholder:"Enter your title",name:"title"})]}),(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"slug",children:"Slug"}),(0,P.jsx)(b.Z,{type:"text",control:ne,placeholder:"Enter your slug",name:"slug"})]})]}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"author",children:"Author"}),(0,P.jsx)(b.Z,{control:ne,placeholder:"Find the author",type:"text",name:"author"})]}),(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"category",children:"Category"}),(0,P.jsx)(x.Z,{placeholder:a,children:R&&R.length>0&&R.map((function(e){return(0,P.jsx)(g.Z,{onClick:function(){return function(e){C(e.name);var n=e.id;function t(){return(t=(0,i.Z)(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.JU)(y.db,"categories",n),e.next=3,(0,c.QT)(t);case 3:i=e.sent,re("category",(0,r.Z)({id:i.id},i.data()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e)},children:e.name},e.id)}))})]})]}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"image",children:"Image"}),(0,P.jsx)(w.Z,{handleDelete:function(){var e=(0,l.iH)(X,"images/"+ie("image_name"));(0,l.oq)(e).then((function(){J(""),U(0),console.log("succes")})).catch((function(e){console.log(e)}))},image:M,progress:T,className:"h-[200px]",onChange:function(e){var n=e.target.files[0];n&&(re("image_name",n.name),function(e){var n=(0,l.iH)(X,"images/"+e.name),t=(0,l.B0)(n,e);t.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;U(n),e.state}),(function(e){console.log(e)}),(function(){(0,l.Jt)(t.snapshot.ref).then((function(e){J(e),re("image_url",e)}))}))}(n))}})]}),(0,P.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"status",children:"Status"}),(0,P.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,P.jsx)(f.Z,{name:"status",control:ne,checked:ce===k.cf.APPROVED,value:k.cf.APPROVED,children:"Approved"}),(0,P.jsx)(f.Z,{name:"status",control:ne,checked:ce===k.cf.PENDING,value:k.cf.PENDING,children:"Pending"}),(0,P.jsx)(f.Z,{name:"status",control:ne,checked:ce===k.cf.REJECTED,value:k.cf.REJECTED,children:"Reject"})]})]}),(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(j.Z,{htmlFor:"hot",children:"Hot"}),(0,P.jsx)(Z.Z,{on:G,onClick:function(){return K(!G)}})]})]})]}),(0,P.jsx)(v.Z,{children:(0,P.jsx)(S(),{control:ne,theme:"snow",value:V,onChange:F,className:"entry-content",modules:W})}),(0,P.jsx)(m.Z,{type:"submit",isLoading:se,disable:se,className:"min-w-[300px] mx-auto",children:"Update new post"})]})]})}}}]);
//# sourceMappingURL=297.01bc8073.chunk.js.map