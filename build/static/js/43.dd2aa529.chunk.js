"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[43],{9646:function(e,n,r){r.d(n,{Z:function(){return v}});var t,o,a,i,s=r(1413),l=r(4925),c=r(168),d=(r(2791),r(6031)),u=r(3504),m=r(184),h=d.ZP.div(t||(t=(0,c.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: 100rem;\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  animation: spinner infinite 1s;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.borderSize}),(function(e){return e.borderSize}),(function(e){return e.borderSize})),p=function(e){var n=e.size,r=void 0===n?"32px":n,t=e.borderSize,o=void 0===t?"4px":t;return(0,m.jsx)(h,{size:r,borderSize:o})},f=["type","children","kind"],x=d.ZP.button(o||(o=(0,c.Z)(["\n  margin: 0 auto;\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 18px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.25s linear;\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"])),(function(e){return e.height||"66px"}),(function(e){return"secondary"===e.kind&&(0,d.iv)(a||(a=(0,c.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(e){return e.theme.primary}))}),(function(e){return"primary"===e.kind&&(0,d.iv)(i||(i=(0,c.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary}))})),v=function(e){var n=e.type,r=void 0===n?"button":n,t=e.children,o=e.kind,a=void 0===o?"primary":o,i=(0,l.Z)(e,f),c=i.isLoading,d=i.to,h=c?(0,m.jsx)(p,{}):t;return""!==d&&"string"===typeof d?(0,m.jsx)(u.OL,{to:d,children:(0,m.jsx)(x,(0,s.Z)((0,s.Z)({type:r,kind:a},i),{},{children:h}))}):(0,m.jsx)(x,(0,s.Z)((0,s.Z)({type:r,kind:a},i),{},{children:h}))}},6356:function(e,n,r){var t,o=r(168),a=(r(2791),r(6031)),i=r(184),s=a.ZP.div(t||(t=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  align-items: flex-start;\n  margin-bottom: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"])));n.Z=function(e){var n=e.children;return(0,i.jsx)(s,{children:n})}},9248:function(e,n,r){var t,o=r(1413),a=r(4925),i=r(168),s=(r(2791),r(6031)),l=r(1134),c=r(184),d=["name","control","type","children"],u=s.ZP.div(t||(t=(0,i.Z)(["\n  position: relative;\n  width: 100%;\n  .input {\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: 8px;\n    border: 1px solid transparent;\n    transition: all 0.2s linear;\n  }\n  .input:focus {\n    border: 1px solid ",";\n    background-color: white;\n  }\n  .input::-webkit-input-placeholder {\n    color: ",";\n    opacity: 0.5;\n  }\n  .input::-moz-input-placeholder {\n    color: ",";\n    opacity: 0.5;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"20px 60px 20px 20px":"20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}),(function(e){return e.theme.grayDark}),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.name,r=e.control,t=e.type,i=void 0===t?"text":t,s=e.children,m=(0,a.Z)(e,d),h=(0,l.bc)({control:r,name:n,defaultValue:""}).field;return(0,c.jsxs)(u,{children:[(0,c.jsx)("input",(0,o.Z)((0,o.Z)((0,o.Z)({type:i,id:n},h),m),{},{className:"input"})),(0,c.jsx)("div",{className:"input-icon",children:s})]})}},3453:function(e,n,r){var t,o=r(1413),a=r(4925),i=r(168),s=(r(2791),r(6031)),l=r(184),c=["htmlFor","children"],d=s.ZP.label(t||(t=(0,i.Z)(["\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n"])),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.htmlFor,r=void 0===n?"":n,t=e.children,i=(0,a.Z)(e,c);return(0,l.jsx)(d,(0,o.Z)((0,o.Z)({htmlFor:r},i),{},{children:t}))}},5735:function(e,n,r){var t=r(1413),o=r(4925),a=r(2791),i=r(184),s=["name","className","progress","image","handleDelete"];n.Z=function(e){var n=e.name,r=e.className,l=void 0===r?"":r,c=e.progress,d=void 0===c?0:c,u=e.image,m=void 0===u?"":u,h=e.handleDelete,p=void 0===h?function(){}:h,f=(0,o.Z)(e,s);return(0,i.jsxs)("label",{className:"cursor-pointer group  flex items-center justify-center bg-gray-100 border border-dashed w-full min-h-[200px] rounded-lg ".concat(l," relative overflow-hidden"),children:[(0,i.jsx)("input",(0,t.Z)({type:"file",name:n,className:"hidden-input",onChange:function(){}},f)),0!==d&&!m&&(0,i.jsx)("div",{className:"loading w-8 h-8 rounded-full animate-spin border-4 border-t-4 border-t-transparent border-green-500"}),m&&(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("button",{type:"button",onClick:p,className:"absolute w-10 h-10 rounded-full  bg-primary flex items-center justify-center text-white text-lg z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}),(0,i.jsx)("div",{className:"overlay absolute inset-0 group-hover:bg-gray-300 group-hover:opacity-40 transition-all"})]}),!m&&0===d&&(0,i.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,i.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,i.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),m&&(0,i.jsx)("img",{src:m,className:"w-full h-full object-cover",alt:""}),!m&&(0,i.jsx)("div",{className:"absolute w-10 h-1 bg-green-400 bottom-0 left-0 transition-all image-upload-progress z-10",style:{width:"".concat(Math.ceil(d),"%")}})]})}},8322:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,o=e.desc,a=void 0===o?"":o,i=e.children;return(0,t.jsxs)("div",{className:"mb-10 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:a})]}),i]})}},9043:function(e,n,r){r.r(n);var t=r(4925),o=r(1413),a=r(5861),i=r(9439),s=r(7757),l=r.n(s),c=r(9062),d=r(4453),u=r(2791),m=r(1134),h=r(6871),p=r(9646),f=r(6356),x=r(9248),v=r(3453),g=r(5735),b=r(9559),y=r(8322),w=r(1724),j=r(577),Z=r(7707),k=r(184),N=["newPassword","confirmPassword"];w.Ry({password:w.Z_().required("Please enter your password.").min(8,"Your password is too short."),confirmPassword:w.Z_().required("Please confirm your password.").oneOf([w.iH("password")],"Your passwords do not match.")});n.default=function(){var e=(0,h.UO)().userId,n=(0,u.useState)([]),r=(0,i.Z)(n,2),s=r[0],w=r[1],P=(0,u.useState)(""),z=(0,i.Z)(P,2),S=z[0],F=z[1],V=(0,u.useState)(0),_=(0,i.Z)(V,2),C=_[0],E=_[1],H=(0,m.cI)({mode:"onChange",defaultValues:{fullname:"",username:"",email:"",password:"",image_name:"",avatar:"",birthday:"",phone:"",createdAt:new Date}}),D=H.control,O=H.handleSubmit,U=(H.watch,H.reset),M=H.getValues,A=H.setValue,B=H.formState,I=(B.isSubmitting,B.isValid,B.errors);(0,u.useEffect)((function(){var e;if(I){var n=null===Object||void 0===Object?void 0:Object.values(I);j.Am.error(null===(e=n[0])||void 0===e?void 0:e.message,{pauseOnHover:!1,autoClose:1e3,delay:500})}}),[I]),(0,u.useEffect)((function(){function n(){return(n=(0,a.Z)(l().mark((function n(){var r,t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,c.JU)(b.db,"users",e),n.next=3,(0,c.QT)(r);case 3:t=n.sent,w(null===t||void 0===t?void 0:t.data());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,u.useEffect)((function(){U((0,o.Z)({},s)),F(M("avatar"))}),[s,U,M]);var J=b.I.currentUser;console.log(J);var L=function(){var n=(0,a.Z)(l().mark((function n(r){var a,i,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r.newPassword,r.confirmPassword,i=(0,t.Z)(r,N),(s=i).password=a,n.prev=3,s.newPassword!==s.confirmPassword){n.next=9;break}return n.next=7,(0,c.r7)((0,c.JU)(b.db,"users",e),(0,o.Z)({},s));case 7:(0,Z.gQ)(J,s.password).then((function(){console.log("Succesfully")})).catch((function(e){console.log(e)})),console.log(s);case 9:j.Am.success("Success fully update user",{pauseOnHover:!0,autoClose:1e3}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}(),q=(0,d.cF)();return(0,k.jsxs)("div",{children:[(0,k.jsx)(y.Z,{title:"Account information",desc:"Update your account information"}),(0,k.jsxs)("form",{onSubmit:O(L),children:[(0,k.jsx)("div",{className:"text-center mb-10",children:(0,k.jsx)(g.Z,{handleDelete:function(){var n=(0,d.iH)(q,"images/"+M("image_name"));(0,d.oq)(n).then((0,a.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.r7)((0,c.JU)(b.db,"users",e),{avatar:""});case 2:F(""),E(0),console.log("succes");case 5:case"end":return n.stop()}}),n)})))).catch((function(e){console.log(e)}))},image:S,progress:C,className:"w-[200px] h-[200px] !rounded-full min-h-0 mx-auto",onChange:function(e){var n=e.target.files[0];n&&(A("image_name",n.name),function(e){var n=(0,d.iH)(q,"images/"+e.name),r=(0,d.B0)(n,e);r.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;E(n),e.state}),(function(e){console.log(e)}),(function(){(0,d.Jt)(r.snapshot.ref).then((function(e){A("avatar",e),F(e)}))}))}(n))}})}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(v.Z,{htmlFor:"fullname",children:"Fullname"}),(0,k.jsx)(x.Z,{control:D,name:"fullname",placeholder:"Enter your fullname"})]}),(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(v.Z,{htmlFor:"username",children:"Username"}),(0,k.jsx)(x.Z,{control:D,name:"username",placeholder:"Enter your username"})]})]}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(v.Z,{htmlFor:"birthday",children:"Date of Birth"}),(0,k.jsx)(x.Z,{control:D,name:"birthday",placeholder:"dd/mm/yyyy"})]}),(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(v.Z,{htmlFor:"phone",children:"Mobile Number"}),(0,k.jsx)(x.Z,{control:D,name:"phone",placeholder:"Enter your phone number"})]})]}),(0,k.jsx)("div",{className:"form-layout",children:(0,k.jsxs)(f.Z,{htmlFor:"email",children:[(0,k.jsx)(v.Z,{children:"Email"}),(0,k.jsx)(x.Z,{control:D,name:"email",type:"email",placeholder:"Enter your email address"})]})}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(v.Z,{htmlFor:"newPassword",children:"New Password"}),(0,k.jsx)(x.Z,{control:D,name:"newPassword",type:"password",placeholder:"Enter your password"})]}),(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(v.Z,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,k.jsx)(x.Z,{control:D,name:"confirmPassword",type:"password",placeholder:"Enter your confirm password"})]})]}),(0,k.jsx)(p.Z,{kind:"primary",className:"mx-auto w-[200px]",type:"submit",children:"Update user"})]})]})}}}]);
//# sourceMappingURL=43.dd2aa529.chunk.js.map