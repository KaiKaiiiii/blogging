"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[605],{9646:function(e,n,r){r.d(n,{Z:function(){return g}});var t,a,i,o,s=r(1413),l=r(4925),c=r(168),d=(r(2791),r(6031)),u=r(3504),h=r(184),m=d.ZP.div(t||(t=(0,c.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: 100rem;\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  animation: spinner infinite 1s;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.borderSize}),(function(e){return e.borderSize}),(function(e){return e.borderSize})),p=function(e){var n=e.size,r=void 0===n?"32px":n,t=e.borderSize,a=void 0===t?"4px":t;return(0,h.jsx)(m,{size:r,borderSize:a})},f=["type","children","kind"],x=d.ZP.button(a||(a=(0,c.Z)(["\n  margin: 0 auto;\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 18px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.25s linear;\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: 0.8;\n  }\n"])),(function(e){return e.height||"66px"}),(function(e){return"secondary"===e.kind&&(0,d.iv)(i||(i=(0,c.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(e){return e.theme.primary}))}),(function(e){return"primary"===e.kind&&(0,d.iv)(o||(o=(0,c.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary}))})),g=function(e){var n=e.type,r=void 0===n?"button":n,t=e.children,a=e.kind,i=void 0===a?"primary":a,o=(0,l.Z)(e,f),c=o.isLoading,d=o.to,m=c?(0,h.jsx)(p,{}):t;return""!==d&&"string"===typeof d?(0,h.jsx)(u.OL,{to:d,children:(0,h.jsx)(x,(0,s.Z)((0,s.Z)({type:r,kind:i},o),{},{children:m}))}):(0,h.jsx)(x,(0,s.Z)((0,s.Z)({type:r,kind:i},o),{},{children:m}))}},8119:function(e,n,r){var t=r(1413),a=r(4925),i=(r(2791),r(1134)),o=r(184),s=["checked","children","control","name"];n.Z=function(e){var n=e.checked,r=e.children,l=e.control,c=e.name,d=(0,a.Z)(e,s),u=(0,i.bc)({control:l,name:c,defaultValue:""}).field;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",(0,t.Z)((0,t.Z)({onChange:function(){},checked:n,type:"radio",className:"hidden-input"},u),d)),(0,o.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,o.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(n?"bg-green-400":"bg-gray-200")}),(0,o.jsx)("span",{children:r})]})]})}},6356:function(e,n,r){var t,a=r(168),i=(r(2791),r(6031)),o=r(184),s=i.ZP.div(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 20px;\n  align-items: flex-start;\n  margin-bottom: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"])));n.Z=function(e){var n=e.children;return(0,o.jsx)(s,{children:n})}},3894:function(e,n,r){var t=r(1413),a=r(4925),i=(r(2791),r(184)),o=["children"];n.Z=function(e){var n=e.children,r=(0,a.Z)(e,o);return(0,i.jsx)("div",(0,t.Z)((0,t.Z)({className:"flex flex-wrap gap-5 "},r),{},{children:n}))}},9248:function(e,n,r){var t,a=r(1413),i=r(4925),o=r(168),s=(r(2791),r(6031)),l=r(1134),c=r(184),d=["name","control","type","children"],u=s.ZP.div(t||(t=(0,o.Z)(["\n  position: relative;\n  width: 100%;\n  .input {\n    width: 100%;\n    padding: ",";\n    background-color: ",";\n    border-radius: 8px;\n    border: 1px solid transparent;\n    transition: all 0.2s linear;\n  }\n  .input:focus {\n    border: 1px solid ",";\n    background-color: white;\n  }\n  .input::-webkit-input-placeholder {\n    color: ",";\n    opacity: 0.5;\n  }\n  .input::-moz-input-placeholder {\n    color: ",";\n    opacity: 0.5;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"20px 60px 20px 20px":"20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}),(function(e){return e.theme.grayDark}),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.name,r=e.control,t=e.type,o=void 0===t?"text":t,s=e.children,h=(0,i.Z)(e,d),m=(0,l.bc)({control:r,name:n,defaultValue:""}).field;return(0,c.jsxs)(u,{children:[(0,c.jsx)("input",(0,a.Z)((0,a.Z)((0,a.Z)({type:o,id:n},m),h),{},{className:"input"})),(0,c.jsx)("div",{className:"input-icon",children:s})]})}},3453:function(e,n,r){var t,a=r(1413),i=r(4925),o=r(168),s=(r(2791),r(6031)),l=r(184),c=["htmlFor","children"],d=s.ZP.label(t||(t=(0,o.Z)(["\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n"])),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.htmlFor,r=void 0===n?"":n,t=e.children,o=(0,i.Z)(e,c);return(0,l.jsx)(d,(0,a.Z)((0,a.Z)({htmlFor:r},o),{},{children:t}))}},5735:function(e,n,r){var t=r(1413),a=r(4925),i=r(2791),o=r(184),s=["name","className","progress","image","handleDelete"];n.Z=function(e){var n=e.name,r=e.className,l=void 0===r?"":r,c=e.progress,d=void 0===c?0:c,u=e.image,h=void 0===u?"":u,m=e.handleDelete,p=void 0===m?function(){}:m,f=(0,a.Z)(e,s);return(0,o.jsxs)("label",{className:"cursor-pointer group  flex items-center justify-center bg-gray-100 border border-dashed w-full min-h-[200px] rounded-lg ".concat(l," relative overflow-hidden"),children:[(0,o.jsx)("input",(0,t.Z)({type:"file",name:n,className:"hidden-input",onChange:function(){}},f)),0!==d&&!h&&(0,o.jsx)("div",{className:"loading w-8 h-8 rounded-full animate-spin border-4 border-t-4 border-t-transparent border-green-500"}),h&&(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("button",{type:"button",onClick:p,className:"absolute w-10 h-10 rounded-full  bg-primary flex items-center justify-center text-white text-lg z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,o.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}),(0,o.jsx)("div",{className:"overlay absolute inset-0 group-hover:bg-gray-300 group-hover:opacity-40 transition-all"})]}),!h&&0===d&&(0,o.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,o.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,o.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),h&&(0,o.jsx)("img",{src:h,className:"w-full h-full object-cover",alt:""}),!h&&(0,o.jsx)("div",{className:"absolute w-10 h-1 bg-green-400 bottom-0 left-0 transition-all image-upload-progress z-10",style:{width:"".concat(Math.ceil(d),"%")}})]})}},8322:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,a=e.desc,i=void 0===a?"":a,o=e.children;return(0,t.jsxs)("div",{className:"mb-10 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:i})]}),o]})}},1447:function(e,n,r){r.r(n);var t=r(1413),a=r(5861),i=r(9439),o=r(7757),s=r.n(o),l=r(9062),c=r(4453),d=r(2791),u=r(1134),h=r(6871),m=r(577),p=r(9646),f=r(8119),x=r(6356),g=r(3894),v=r(9248),Z=r(3453),b=r(5735),j=r(9559),y=r(3585),w=r(8322),N=r(5442),k=r(184);n.default=function(){var e=(0,h.UO)().userId,n=(0,d.useState)({}),r=(0,i.Z)(n,2),o=r[0],z=r[1],S=(0,d.useState)(0),V=(0,i.Z)(S,2),D=V[0],E=V[1],F=(0,d.useState)(""),C=(0,i.Z)(F,2),A=C[0],M=C[1],U=(0,u.cI)({mode:"onChange",defaultValues:{fullname:"",username:"",email:"",password:"",status:1,role:3,image_name:"",avatar:"",createdAt:new Date}}),_=U.control,I=U.handleSubmit,P=U.watch,B=U.reset,Q=U.getValues,H=U.setValue,L=U.formState,J=L.isSubmitting,O=(L.isValid,function(){var n=(0,a.Z)(s().mark((function n(r){var a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(0,t.Z)({},r),n.prev=1,n.next=4,(0,l.r7)((0,l.JU)(j.db,"users",e),(0,t.Z)({},a));case 4:m.Am.success("Successfully update user"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()),R=P("status"),T=P("role");(0,d.useEffect)((function(){function n(){return(n=(0,a.Z)(s().mark((function n(){var r,t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,l.JU)(j.db,"users",e),n.next=3,(0,l.QT)(r);case 3:t=n.sent,z(null===t||void 0===t?void 0:t.data());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,d.useEffect)((function(){B((0,t.Z)({},o)),M(Q("avatar"))}),[o,B,Q]);var G=(0,c.cF)(),q=(0,d.useState)(new Date),Y=(0,i.Z)(q,2),K=Y[0],W=Y[1];return(0,k.jsxs)("div",{children:[(0,k.jsx)(w.Z,{title:"User",desc:"Edit user id - ".concat(e),children:(0,k.jsx)(p.Z,{type:"button",to:"/manage/user",children:"Back to user manage"})}),(0,k.jsxs)("form",{onSubmit:I(O),children:[(0,k.jsx)(x.Z,{children:(0,k.jsx)(b.Z,{handleDelete:function(){var n=(0,c.iH)(G,"images/"+Q("image_name"));(0,c.oq)(n).then((0,a.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.r7)((0,l.JU)(j.db,"users",e),{avatar:""});case 2:M(""),E(0),console.log("succes");case 5:case"end":return n.stop()}}),n)})))).catch((function(e){console.log(e)}))},image:A,progress:D,className:"w-[200px] h-[200px] !rounded-full min-h-0 mx-auto",onChange:function(e){var n=e.target.files[0];n&&(H("image_name",n.name),function(e){var n=(0,c.cF)(),r=(0,c.iH)(n,"images/"+e.name),t=(0,c.B0)(r,e);t.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;E(n),e.state}),(function(e){console.log(e)}),(function(){(0,c.Jt)(t.snapshot.ref).then((function(e){H("avatar",e),M(e)}))}))}(n))}})}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(Z.Z,{htmlFor:"fullname",children:"Fullname"}),(0,k.jsx)(v.Z,{name:"fullname",placeholder:"Enter your fullname",control:_})]}),(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(Z.Z,{htmlFor:"username",children:"Username"}),(0,k.jsx)(v.Z,{name:"username",placeholder:"Enter your username",control:_})]})]}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(Z.Z,{htmlFor:"email",children:"Email"}),(0,k.jsx)(v.Z,{name:"email",placeholder:"Enter your email",control:_,type:"email"})]}),(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(Z.Z,{htmlFor:"password",children:"Password"}),(0,k.jsx)(v.Z,{name:"password",placeholder:"Enter your password",control:_,type:"password"})]})]}),(0,k.jsxs)("div",{className:"form-layout",children:[(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(Z.Z,{htmlFor:"status",children:"Status"}),(0,k.jsxs)(g.Z,{children:[(0,k.jsx)(f.Z,{name:"status",control:_,checked:Number(R)===y.iQ.ACTIVE,value:y.iQ.ACTIVE,children:"Active"}),(0,k.jsx)(f.Z,{name:"status",control:_,checked:Number(R)===y.iQ.PENDING,value:y.iQ.PENDING,children:"Pending"}),(0,k.jsx)(f.Z,{name:"status",control:_,checked:Number(R)===y.iQ.BAN,value:y.iQ.BAN,children:"Banned"})]})]}),(0,k.jsxs)(x.Z,{children:[(0,k.jsx)(Z.Z,{htmlFor:"role",children:"Role"}),(0,k.jsxs)(g.Z,{children:[(0,k.jsx)(f.Z,{name:"role",control:_,checked:Number(T)===y.xZ.ADMIN,value:y.xZ.ADMIN,children:"Admin"}),(0,k.jsx)(f.Z,{name:"role",control:_,checked:Number(T)===y.xZ.MOD,value:y.xZ.MOD,children:"Moderator"}),(0,k.jsx)(f.Z,{name:"role",control:_,checked:Number(T)===y.xZ.USER,value:y.xZ.USER,children:"User"})]})]})]}),(0,k.jsx)(p.Z,{kind:"primary",className:"mx-auto w-[200px]",type:"submit",disabled:J,isLoading:J,children:"Update user"})]}),(0,k.jsx)(N.Z,{onChange:W,value:K})]})}}}]);
//# sourceMappingURL=605.e61095ba.chunk.js.map